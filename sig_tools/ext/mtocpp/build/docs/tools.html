<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>mtoc++: Configuration and use of mtoc++</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="ownstyle.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.jpg"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">mtoc++
   &#160;<span id="projectnumber">1.5</span>
   </div>
   <div id="projectbrief">mtoc++: Doxygen filter for MatLab .m files</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Home</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li><a href="annotated.html"><span>Class&#160;Documentation</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li class="current"><a href="pages.html"><span>Miscellaneous</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="index.html">mtoc++ 1.5 Software Documentation</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Configuration and use of mtoc++ </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Help on how to use the tools coming with mtoc++</p>
<p>Make sure you have followed the <a class="el" href="install.html">mtoc++ installation instructions</a>.</p>
<dl class="section user"><dt>Contents</dt><dd><ul>
<li><a class="el" href="tools.html#tools_doc">Documentation creation</a><ul>
<li><a class="el" href="tools.html#tools_docmaker">Using the MatlabDocMaker</a></li>
<li><a class="el" href="tools.html#tools_direct">Using mtoc++ directly</a></li>
<li><a class="el" href="tools.html#tools_python">Using the python script from a unix shell</a></li>
</ul>
</li>
<li><a class="el" href="tools.html#tools_config">Configuring mtoc++ and doxygen</a><ul>
<li><a class="el" href="tools.html#config_doxy">Configuration options for doxygen</a></li>
<li><a class="el" href="tools.html#config_mtocpp">Configuration options for the mtoc++ filter</a></li>
<li><a class="el" href="tools.html#config_latex">Extending default LaTeX environment for doxygen</a></li>
</ul>
</li>
</ul>
</dd></dl>
<h1><a class="anchor" id="tools_doc"></a>
Documentation creation</h1>
<p>As <code>mtoc++</code> itself is only a filter to plug into doxygen, there is little sense in calling the binaries directly.</p>
<p>Thus, mtoc++ comes with a series of tools that take over the documentation generation process for different interfaces.</p>
<p>Those tools can be found inside the <code>&lt;mtoc++-source-dir&gt;/tools</code> folder.</p>
<dl class="section note"><dt>Note:</dt><dd>At some stage you will need to have access to the involved binaries like <code>doxygen</code>, <code>mtocpp</code>, <code>mtocpp_post</code> or <code>latex</code>. It is your responsibility to ensure the availability of the binaries in whatever environment you want to create the documentation. The most obvious way is to place all binaries inside a directory contained in your local PATH variable (both unix/windows). We've had reported issues with MAC users, that dont have the environment set when launching MatLab from the Dock. See <a class="el" href="troubleshooting.html">Troubleshooting mtoc++</a> for more information.</dd></dl>
<h2><a class="anchor" id="tools_docmaker"></a>
Using the MatlabDocMaker</h2>
<p>The most convenient way of using mtoc++ within your matlab project is to use the <a class="el" href="class_matlab_doc_maker.html" title="MatlabDocMaker: Automated documentation creation using doxygen and mtoc++ from within MatLab...">MatlabDocMaker</a> class coming with mtoc++. The <a class="el" href="class_matlab_doc_maker.html" title="MatlabDocMaker: Automated documentation creation using doxygen and mtoc++ from within MatLab...">MatlabDocMaker</a> is a MatLab native class that can be directly used from within MatLab in order to create the project documentation.</p>
<p>Follow these simple steps in order to quickly get your first documentation:</p>
<ul>
<li>Place the <a class="el" href="_matlab_doc_maker_8m_source.html">MatlabDocMaker.m</a> file somewhere on your project's MatLab path.</li>
<li>Change the <a class="el" href="class_matlab_doc_maker.html#a9f84ff8d3f39824b54626862780b342c" title="Returns the project name.">MatlabDocMaker.getProjectName</a> method to return your project's name</li>
<li>Copy the contents of the <code>&lt;mtoc++-source-dir&gt;/tools/config</code> folder into e.g. a subfolder of your MatLab project</li>
<li>Call the <a class="el" href="class_matlab_doc_maker.html#a434c176c2421dd18a40003919b19f4f2" title="Runs the setup script for MatlabDocMaker and collects all necessary paths in order for the documentat...">MatlabDocMaker.setup</a> method and use the folder from the previous step as your "documentation configuration files directory".</li>
<li>Use the <a class="el" href="class_matlab_doc_maker.html#a278883e6b83f6c6e7780e0d567dee119" title="Creates the Doxygen documentation.">MatlabDocMaker.create</a> method to generate your documentation and look at it in a web browser.</li>
</ul>
<p>See the <a class="el" href="class_matlab_doc_maker.html" title="MatlabDocMaker: Automated documentation creation using doxygen and mtoc++ from within MatLab...">MatlabDocMaker</a> class description for more details on how to use it. </p>
<dl class="section note"><dt>Note:</dt><dd>You may of course keep the <a class="el" href="_matlab_doc_maker_8m_source.html">MatlabDocMaker.m</a> and the configuration files where you initially placed your mtoc++ source and point to the appropriate directories during setup.<br/>
 However, if you want to use multiple projects with mtoc++ you probably want to have different configurations for each project, so that is why we recommend to create local copies of your tools and configuration within each project. (The <a class="el" href="class_matlab_doc_maker.html" title="MatlabDocMaker: Automated documentation creation using doxygen and mtoc++ from within MatLab...">MatlabDocMaker</a> stores its setting dependent on the name you specify for the project!)<br/>
 The way the <a class="el" href="class_matlab_doc_maker.html" title="MatlabDocMaker: Automated documentation creation using doxygen and mtoc++ from within MatLab...">MatlabDocMaker</a> works it can be easily inserted into whatever versioning system your project uses. As it stores important folders in MatLab preferences each developer will still have his local documentation settings (after running <a class="el" href="class_matlab_doc_maker.html#a434c176c2421dd18a40003919b19f4f2" title="Runs the setup script for MatlabDocMaker and collects all necessary paths in order for the documentat...">MatlabDocMaker.setup</a> on each machine, of course).</dd></dl>
<h2><a class="anchor" id="tools_direct"></a>
Using mtoc++ directly</h2>
<p>Okay, so you're a crack and want to control everything. That's fine with us! In this case we also assume you're familiar with whatever your operating environment is and you have solid knowledge of what's going on. First, you could simply reverse-engineer what the <a class="el" href="class_matlab_doc_maker.html" title="MatlabDocMaker: Automated documentation creation using doxygen and mtoc++ from within MatLab...">MatlabDocMaker</a> is doing (it automatically generates and inserts the correct scripts read by doxygen), otherwise, here are the basic steps required to get started with mtoc++ directly. In short, this happens by including mtoc++ as a filter for *.m files:</p>
<ul>
<li>Compile things as necessary and make binaries accessible</li>
<li>Modify your <code>doxygen</code> configuration file:<ul>
<li>Setup your doxygen as usual, including the sources and output directories</li>
<li>Make <code>doxygen</code> parse Matlab files</li>
<li>Register mtoc++ as a filter for those files</li>
<li>If you have a custom mtocpp.conf you want mtoc++ to use, you need to create a shell/batch script that passes this file to mtoc++ and use this file as filter executable</li>
<li>Check if you are using latex-features of mtoc++, if so, add latex-support and provide necessary style files</li>
</ul>
</li>
<li>Run doxygen</li>
<li>Run <code>mtocpp_post</code> passing the folder containing your HTML output as argument</li>
<li>Look at some nice documentation, be happy!</li>
<li>If your'e not happy, try starting with the provided Doxyfile.template in the <code>tools/</code> directory and inserting proper values for all the placeholders we're using. Everything related to mtoc++ has been put to the very bottom of the file, most critically: <div class="fragment"><div class="line">   EXTENSION_MAPPING = .m=C++</div>
<div class="line">   INPUT             = _SourceDir_ _ConfDir_</div>
<div class="line">   FILE_PATTERNS     = *.m</div>
<div class="line">   FILTER_PATTERNS   = *.m=<span class="stringliteral">&quot;_ConfDir_`&#39;_FileSep_`&#39;_MTOCFILTER_&quot;</span></div>
</div><!-- fragment --> Here, the underscored values need to be replaced manually in order to insert the correct values. Essentially:<ul>
<li><code>EXTENSION_MAPPING</code> tells doxygen to regard <code></code>.m-Files as if they were <code>C++</code> files, style-wise.</li>
<li><code>INPUT</code> tells doxygen where to look for files.</li>
<li><code>FILE_PATTERNS</code> lets doxygen also look for <code></code>.m-Files.</li>
<li><code>FILTER_PATTERNS</code> is the most important line of the configuration. Here, you need to define scripts that should be called by doxygen before certain files are processed.</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="tools_python"></a>
Using the python script from a unix shell</h2>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000002">Todo:</a></b></dt><dd>python script, yet to come</dd></dl>
<h1><a class="anchor" id="tools_config"></a>
Configuring mtoc++ and doxygen</h1>
<p>As the configuration of doxygen/mtoc++ is independent from the actual tool used we will explain it separately. The involved files can again be found inside the <code>/tools/config</code> folder.</p>
<ul>
<li><code>Doxyfile.template</code> - <a class="el" href="tools.html#config_doxy">Configuration options for doxygen</a></li>
<li><code>mtocpp.conf</code> - <a class="el" href="tools.html#config_mtocpp">Configuration options for the mtoc++ filter</a></li>
<li><code>latexextras.template</code> - <a class="el" href="tools.html#config_latex">Extending default LaTeX environment for doxygen</a></li>
<li><code><a class="el" href="class__substitutes_8c_source.html">class_substitutes.c</a></code> - <a class="el" href="tools.html#config_fakeclasses">Fake classes for typical MatLab data types</a></li>
</ul>
<dl class="section attention"><dt>Attention:</dt><dd>USING MTOC++ DOES NOT EXCLUDE THE REQUIREMENT TO KNOW AND UNDERSTAND DOXYGEN ITSELF!<br/>
 The settings in the "Doxygen.template" file inside the <code>/tools/config</code> folder are a default configuration for Doxygen which we thought might be useful in a MatLab setting/project and contains some changes in order to make mtoc++ run together with doxygen. We've had lots of feedback and problem reports which actually had to do with settings purely regarding doxygen, so we strongly recommend having a look through <a class="el" href="tools.html#config_doxy">Configuration options for doxygen</a> and the references therein before contacting us. Thanks!</dd></dl>
<h2><a class="anchor" id="config_doxy"></a>
Configuration options for doxygen</h2>
<p>The <code>Doxyfile.template</code> file uses placeholders for specific folders etc. and contains any other configuration settings you want doxygen to use. This way, the configuration files can be included into the versioning system as local developers paths are stored outside the configuration file and are provided by the different tools coming with mtoc++.</p>
<p>See <a href="http://www.stack.nl/~dimitri/doxygen/config.html">http://www.stack.nl/~dimitri/doxygen/config.html</a> for more information on doxygen configuration.</p>
<h2><a class="anchor" id="config_mtocpp"></a>
Configuration options for the mtoc++ filter</h2>
<p>The file <code>mtocpp.conf</code> contains additional configuration for the mtoc++ parser.</p>
<dl class="section note"><dt>Note:</dt><dd>The mtoc++ filter takes exactly two arguments, of which the first is the file to process, and the second is an optional configuration file. So if you dont want to customize mtoc++ because the default settings are just fine, there is nothing to do (you simply can set the filter target in doxygen to the <code>mtocpp</code> binary for the manual config case). Otherwise, if you want to provide a config file to mtoc++, depending on your platform, you have to write a shell/batch script that is included as filter callback in doxygen's configuration file. Inside the script, the first argument is forwarded to <code>mtocpp</code> and the second configuration file path is provided statically in the script.<br/>
 We recommend to use the <a class="el" href="class_matlab_doc_maker.html" title="MatlabDocMaker: Automated documentation creation using doxygen and mtoc++ from within MatLab...">MatlabDocMaker</a> tool described in <a class="el" href="tools.html#tools_docmaker">Using the MatlabDocMaker</a>, as it does all that for you.</dd></dl>
<p>The following is a short list of options that can be specified in the configuration file for the mtoc++ filter. All options are declared by the syntax </p>
<div class="fragment"><div class="line"> &lt;option&gt; := &lt;value&gt; </div>
</div><!-- fragment --><p> and are optional, as the default values are hardcoded into mtoc++.</p>
<ul>
<li><code>ALL</code> - File Patterns</li>
<li><code>PRINT_FIELDS</code> - Flag indicating whether automatic struct fields or object member documentation is generated. Default <code>true</code>.</li>
<li><code>AUTO_ADD_FIELDS</code> - Flag indicating whether undocumented field names are added to documentation. Default <code>false</code>.</li>
<li><code>AUTO_ADD_PARAMETERS</code> - Flag indicating whether undocumented parameters and return values are added to documentation with documentation text equal to the parameter / return value name. Default false.</li>
<li><code>AUTO_ADD_CLASS_PROPERTIES</code> - Flag indicating whether undocumented member variables are added to documentation with documentation text equal to the parameter / return value name. Default false.</li>
<li>AUTO_ADD_CLASSES - Flag indicating whether undocumented classes are added to documentation with documentation text equal to the class name. Default <code>true</code>.</li>
<li>REMOVE_FIRST_ARG_IN_ABSTRACT_METHODS - Flag indication whether the first argument in abstract non-static methods shall be a this pointer, and therefore removed in the C++ output. Default <code>true</code>.</li>
<li>ENABLE_OF_TYPE_PARSING - Flag indicating whether the string "of type" is parsed in the the first two lines of comments. This is equivalent to the @type tag, but makes the code more readable at some places. Default <code>true</code>.</li>
<li>VOID_TYPE_IN_RETURN_VALUES - Flag indicating whether the typename void shall be inserted for return values with no specified type. Default <code>false</code>. PRINT_RETURN_VALUE_NAME - Integer flag indicating whether return value names shall be printed in the function synopsis. If this flag is deactivated only the type names are written. The flag can be set to either 0, 1 or 2 and has default value <code>2</code>:<ul>
<li>0: means that no return value names shall be printed at all.</li>
<li>1: means that return value names shall be printed for return value lists with more than one element only.</li>
<li>2: means that return value names shall be printed always.</li>
</ul>
</li>
</ul>
<p>Moreover, default descriptions/values for recurring entries like parameters or field names can be specified.</p>
<dl class="section attention"><dt>Attention:</dt><dd>Note that the configuration file sections for variables above and rules below have to be separated by a single line containing only a double hash '##'. ONLY use '##' for that purpose.</dd></dl>
<dl class="section user"><dt>Parameter default descriptions</dt><dd>Use the syntax <div class="fragment"><div class="line"> add(params) =  &lt;parameter1_name&gt; =&gt; <span class="stringliteral">&quot;&quot;</span><span class="stringliteral">&quot;Your parameter1 description text in triple quotes&quot;</span><span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line">        &lt;parameter2_name&gt; =&gt; <span class="stringliteral">&quot;&quot;</span><span class="stringliteral">&quot;Your parameter2 description text in triple quotes&quot;</span><span class="stringliteral">&quot;&quot;</span>; </div>
</div><!-- fragment --> to add default descriptions to parameters of functions or class members.</dd></dl>
<dl class="section user"><dt>Struct field default descriptions</dt><dd>Use the syntax <div class="fragment"><div class="line"> add(fields) = &lt;field_name&gt; =&gt; <span class="stringliteral">&quot;&quot;</span><span class="stringliteral">&quot;Your field description text in triple quotes&quot;</span><span class="stringliteral">&quot;&quot;</span>; </div>
</div><!-- fragment --> to add default descriptions to fields of any struct or class (identified by a ".fieldname" syntax in the MatLab code)</dd></dl>
<dl class="section user"><dt>Extra documentation</dt><dd>Use <div class="fragment"><div class="line"> add(doc) = <span class="stringliteral">&quot;&quot;</span><span class="stringliteral">&quot; &lt;some extra doc for all files&gt; &quot;</span><span class="stringliteral">&quot;&quot;</span>; </div>
</div><!-- fragment --> to append some extra documentation to each class or files documentation. Use <div class="fragment"><div class="line"> add(extra) = <span class="stringliteral">&quot;&quot;</span><span class="stringliteral">&quot; &lt;text at end of comments&gt; &quot;</span><span class="stringliteral">&quot;&quot;</span>; </div>
</div><!-- fragment --> to append text at the end of any comment.</dd></dl>
<dl class="section user"><dt>Global settings for specific files or folder groups</dt><dd>More advanced, those settings above can also be made on a group-based setting. The syntax <div class="fragment"><div class="line">   glob = &lt;folder or filename (regexp allowed)&gt; {</div>
<div class="line">    &lt;expressions as above&gt;</div>
<div class="line">    glob = &lt;subfolder or files&gt; {</div>
<div class="line">        &lt;expressions as above&gt;</div>
<div class="line">    };</div>
<div class="line">   }</div>
</div><!-- fragment --> can be used to specify groups of rules that are applied to any matching file or files in folders. Nesting is possible, too.</dd></dl>
<p>So for example, </p>
<div class="fragment"><div class="line"> glob = myfile.m { add(params) = param1 =&gt; <span class="stringliteral">&quot;&quot;</span><span class="stringliteral">&quot; param 1 description &quot;</span><span class="stringliteral">&quot;&quot;</span>; } </div>
</div><!-- fragment --><p> would cause mtoc++ to add the description "param 1 description" to any parameter called <code>param1</code> of a method/function inside the file <code>myfile.m</code>.</p>
<dl class="section attention"><dt>Attention:</dt><dd>Having common field names specified centrally is a quite convenient way to autogenerate documentation. However, if you use e.g. the same parameter name in a different meaning and forget to explicitly specify the parameter documentation, the default values will be inserted. This possibly leads to more confusion for users than it does help. Furthermore, not specifiying the parameters in the local comments decreases readability of the code. One of mtoc++'s main advantages in combination with doxygen is that code can be commented highly readable in-place!</dd></dl>
<p>See the file itself for more detailed configuration options and examples.</p>
<h2><a class="anchor" id="config_latex"></a>
Extending default LaTeX environment for doxygen</h2>
<p>The <code>latexextras.template</code> file is processed and included into the latex environment available to doxygen during the documentation creation. Insert here any commands or packages that you want latex to know for your documentation formulas.</p>
<dl class="section attention"><dt>Attention:</dt><dd>When having errors inside an LaTeX formula, doxygen will complain upon finishing and tell you to look into the _formulas.log/.tex file in the documentation output folder. THIS WARNING COMES ONLY ONE TIME! Upon the next creation run, only changed/new formulas will be re/generated. We considered deleting all formula pngs before each re-creation, but decided not to do this for performance issues. So just make sure you react to latex typos/errors immediately.</dd></dl>
<p>The default packages that are included by the <code>latexextras.template</code> are </p>
<div class="fragment"><div class="line"> \usepackage{amsmath}</div>
<div class="line">   \usepackage{amssymb}</div>
<div class="line">   \usepackage{amsfonts}</div>
<div class="line">   \usepackage{subfig}</div>
<div class="line">   \usepackage{bbm} </div>
</div><!-- fragment --><h2><a class="anchor" id="config_fakeclasses"></a>
Fake classes for typical MatLab data types</h2>
<p>The file <code><a class="el" href="class__substitutes_8c_source.html">class_substitutes.c</a></code> includes some class descriptions for typical MatLab data types like handle or logical, but also introduces custom types like colvec or rowvec that can be used with the @type tag for property, parameter or return value types.</p>
<p>Add new classes to this file or change existing ones as you need. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Mar 18 2013 21:36:59 for mtoc++ by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1.1
</small></address>
</body>
</html>
